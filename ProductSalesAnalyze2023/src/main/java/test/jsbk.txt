
// 新增產品的checkbox & radiobutton 合併js驗證
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        /* 提醒字樣樣式 */
        .error-message {
            color: red;
        }

        /* checkbox 或 radio 按鈕錯誤時的樣式 */
        .error-input {
            box-shadow: 0 0 5px red;
            border: 2px solid red;
            border-radius: 4px;
            transition: box-shadow 0.3s ease, border 0.3s ease;
        }
    </style>
    <title>Your Page Title</title>
</head>
<body>
    <div class="mb-3">
        <label for="productLaunch" class="form-label">是否立即上架</label>
        <div id="error-message" class="error-message" style="display: none;">
            請至少選擇一個選項
        </div>
        <div>
            <input class="checkbox-input error-input" type="checkbox" id="isLaunchCheckbox" value="true">
            <label class="checkbox-label" for="isLaunchCheckbox">立即上架</label>

            <input class="radio-button-input error-input" type="radio" id="isLaunchTrue" name="isLaunch" value="true" required>
            <label class="radio-button-label" for="isLaunchTrue">是</label>

            <input class="radio-button-input error-input" type="radio" id="isLaunchFalse" name="isLaunch" value="false" required>
            <label class="radio-button-label" for="isLaunchFalse">否</label>
        </div>
    </div>

    <script>
        document.addEventListener('change', function (event) {
            var target = event.target;
            var errorInputs = document.querySelectorAll('.error-input');

            // 隱藏錯誤消息
            document.getElementById('error-message').style.display = 'none';

            // 移除所有 checkbox 和 radio 按鈕的紅色光暈樣式
            errorInputs.forEach(function (input) {
                input.classList.remove('error-input');
            });

            // checkbox 或 radio 按鈕被選擇時，觸發驗證函式
            if ((target.type === 'checkbox' || target.type === 'radio') && target.classList.contains('error-input')) {
                validateForm();
            }
        });

        function validateForm() {
            var checkboxes = document.querySelectorAll('.checkbox-input');
            var radioButtons = document.getElementsByName('isLaunch');
            var isChecked = false;

            // checkbox 驗證
            checkboxes.forEach(function (checkbox) {
                if (checkbox.checked) {
                    isChecked = true;
                }
            });

            // radio 按鈕驗證
            for (var i = 0; i < radioButtons.length; i++) {
                if (radioButtons[i].checked) {
                    isChecked = true;
                    break;
                }
            }

            // 顯示或隱藏錯誤消息
            document.getElementById('error-message').style.display = isChecked ? 'none' : 'block';

            return isChecked;
        }
    </script>
</body>
</html>

// bootstrap版本
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js"></script>

